doctype html
head
  -var modif
  -var item1
  -var item2
  -var item3
  -var item4
  -var item5
  -var uuid1
  -var uuid2
  -var uuid3
  -var uuid4
  -var uuid5
  meta(charset='UTF-8')
  meta(name='viewport' content='width=device-width, initial-scale=1.0')
  title Faire une demande - Cosider
  link(rel='preconnect' href='https://fonts.gstatic.com')
  link(href='https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700;800&display=swap' rel='stylesheet')
  link(rel='stylesheet' href='/css/bootstrap.css')
  link(rel='stylesheet' href='/vendors/perfect-scrollbar/perfect-scrollbar.css')
  link(rel='stylesheet' href='/vendors/bootstrap-icons/bootstrap-icons.css')
  link(rel='stylesheet' href='/css/app.css')
  link(rel='shortcut icon' href='/images/favicon.svg' type='image/x-icon')
#app
  #sidebar.active
    .sidebar-wrapper.active
      .sidebar-header
        .d-flex.justify-content-between
          .logo
            a(href='../')
              img(src='/images/logo/logo.png' alt='Logo' srcset='')
          .toggler
            a.sidebar-hide.d-xl-none.d-block(href='#')
              i.bi.bi-x.bi-middle
      .sidebar-menu
        ul.menu
          li.sidebar-item
            a.sidebar-link(href='/')
              i.bi.bi-grid-fill
              span Acceuil
          li.sidebar-item
            a.sidebar-link(href='Historique')
              i.bi.bi-stack
              span Historique
          li.sidebar-item
            a.sidebar-link(href='Consultation')
              i.bi.bi-file-earmark-medical-fill
              span Consulter les processus
          li.sidebar-item.active
            a.sidebar-link(href='/fdemande')
              i.bi.bi-pen-fill
              span Faire une demande
          li.sidebar-item
            a.sidebar-link(href='/Encours')
              i.bi.bi-collection-fill
              span Demandes en cours
      button.sidebar-toggler.btn.x
        i(data-feather='x')
  #main
    header.mb-3
      a.burger-btn.d-block.d-xl-none(href='#')
        i.bi.bi-justify.fs-3
    .page-heading
      .page-title
        .row
          .col-12.col-md-6.order-md-1.order-last
            h3 Faire une demande
            p.text-subtitle.text-muted
              | Demander des fichiers, des mat&eacute;riaux, des n&eacute;cessit&eacute;s et bien plus au bout d&apos;un clic
          .col-12.col-md-6.order-md-2.order-first
            nav.breadcrumb-header.float-start.float-lg-end(aria-label='breadcrumb')
              ol.breadcrumb
                li.breadcrumb-item
                  a(href='index') Acceuil
                li.breadcrumb-item.active(aria-current='page') Faire une demande
      section.section
        .card
          .card-header
            h4.card-title Remplir le formulaire
          .card-body
            p
              | choisissez la direction &agrave; partir de laquelle vous souhaitez faire la demande
            .list-group.list-group-horizontal-sm.mb-1.text-center(role='tablist')
              a#list-sunday-list.list-group-item.list-group-item-action.active(data-bs-toggle='list' href='#list-sunday' role='tab') Demande
            .tab-content.text-justify
              #list-sunday.tab-pane.fade.show.active(role='tabpanel' aria-labelledby='list-sunday-list')
                .card-content
                  .card-body
                    form#vardemande.form.form-horizontal
                      .form-body
                        .row
                          .col-md-3
                            label Date
                          .col-md-9.form-group
                            input#email-id.form-control(type='text' name='date' value=modif.date disabled=true)
                          .col-md-3
                            label Nom
                          .col-md-9.form-group
                            input#first-name.form-control(type='text' name='type' value=modif.nom disabled=true)
                          .col-md-3
                            label Service
                          .col-md-9.form-group
                            input#contact-info.form-control(type='text' name='service' value=modif.service disabled=true)
                          .col-md-3
                            label type demande
                          .col-md-9.form-group
                            input#type.form-control(type='text' name='types' value=modif.type disabled=true)

                          hr
                            
                          
                          
                          .col-md-3
                            .form-group
                              label Designation
                              .input-group
                                label#basic-addon1.input-group-text 1
                                input#choice.form-control(type='text' name='' value=item1.désignation disabled=true)
                          .col-md-1
                            .form-group
                              label Unité
                              input#ut.form-control.round(type='text' value=item1.unitémesure disabled=true)
                          .col-md-2
                            .form-group
                              label Quantité demandée
                              input#qts.form-control.round(type='text' value=item1.quantitédem disabled=true)
                          .col-md-2
                            .form-group
                              label Quantité accordée
                              input#qtsa.form-control.round(type='text' value=item1.quantitéliv)
                          .col-md-4
                            .form-group
                              label Observations
                              input#obs.form-control.round(type='text' value=item1.observation disabled=true)
                              


                          if (item2 != null)
                            .col-md-3
                                .form-group
                                label 
                                .input-group
                                    label#basic-addon1.input-group-text 2
                                    input#choice1.form-control(type='text' name='Designation' value=item2.désignation disabled=true)
                            .col-md-1
                                .form-group
                                label 
                                input#ut1.form-control.round(type='text' value=item2.unitémesure disabled=true)
                            .col-md-2
                                .form-group
                                label 
                                input#qts1.form-control.round(type='text' value=item2.quantitédem disabled=true)
                            .col-md-2
                                .form-group
                                label 
                                input#qtsa1.form-control.round(type='text' value=item2.quantitéliv)
                            .col-md-4
                                .form-group
                                label 
                                input#obs1.form-control.round(type='text' value=item2.observation disabled=true)

                          if (item2 == null)
                            .col-md-3
                                .form-group
                                label 
                                .input-group
                                    label#basic-addon1.input-group-text 2
                                    input#choice1.form-control(type='text' name='Designation' disabled=true)
                            .col-md-1
                                .form-group
                                label 
                                input#ut1.form-control.round(type='text' disabled=true)
                            .col-md-2
                                .form-group
                                label 
                                input#qts1.form-control.round(type='text' disabled=true)
                            .col-md-2
                                .form-group
                                label 
                                input#qtsa1.form-control.round(type='text' disabled=true)
                            .col-md-4
                                .form-group
                                label 
                                input#obs1.form-control.round(type='text' disabled=true)


                          if (item3 != null)
                            .col-md-3
                                .form-group
                                label 
                                .input-group
                                    label#basic-addon1.input-group-text 3
                                    input#choice2.form-control(type='text' name='' value=item3.désignation disabled=true)
                            .col-md-1
                                .form-group
                                label 
                                input#ut2.form-control.round(type='text' value=item3.unitémesure disabled=true)
                            .col-md-2
                                .form-group
                                label 
                                input#qts2.form-control.round(type='text' value=item3.quantitédem disabled=true)
                            .col-md-2
                                .form-group
                                label 
                                input#qtsa2.form-control.round(type='text' value=item3.quantitéliv)
                            .col-md-4
                                .form-group
                                label 
                                input#obs2.form-control.round(type='text' value=item3.observation disabled=true)

                          if (item3 == null)
                            .col-md-3
                                .form-group
                                label 
                                .input-group
                                    label#basic-addon1.input-group-text 3
                                    input#choice2.form-control(type='text' name='' disabled=true)
                            .col-md-1
                                .form-group
                                label 
                                input#ut2.form-control.round(type='text' disabled=true)
                            .col-md-2
                                .form-group
                                label 
                                input#qts2.form-control.round(type='text' disabled=true)
                            .col-md-2
                                .form-group
                                label 
                                input#qtsa2.form-control.round(type='text' disabled=true)
                            .col-md-4
                                .form-group
                                label 
                                input#obs2.form-control.round(type='text' disabled=true)


                          if (item4 != null)
                            .col-md-3
                                .form-group
                                label 
                                .input-group
                                    label#basic-addon1.input-group-text 4
                                    input#choice3.form-control(type='text' name='' value=item4.désignation disabled=true)
                            .col-md-1
                                .form-group
                                label 
                                input#qts3.form-control.round(type='text' value=item4.unitémesure disabled=true)
                            .col-md-2
                                .form-group
                                label 
                                input#ut3.form-control.round(type='text' value=item4.quantitédem disabled=true)
                            .col-md-2
                                .form-group
                                label 
                                input#qtsa3.form-control.round(type='text' value=item4.quantitéliv)
                            .col-md-4
                                .form-group
                                label 
                                input#obs3.form-control.round(type='text' value=item4.observation disabled=true)

                          if (item4 == null)
                            .col-md-3
                                .form-group
                                label 
                                .input-group
                                    label#basic-addon1.input-group-text 4
                                    input#choice3.form-control(type='text' name='' disabled=true)
                            .col-md-1
                                .form-group
                                label 
                                input#qts3.form-control.round(type='text' disabled=true)
                            .col-md-2
                                .form-group
                                label 
                                input#ut3.form-control.round(type='text' disabled=true)
                            .col-md-2
                                .form-group
                                label 
                                input#qtsa3.form-control.round(type='text' disabled=true)
                            .col-md-4
                                .form-group
                                label 
                                input#obs3.form-control.round(type='text' disabled=true)


                          if (item5 != null)
                            .col-md-3
                                .form-group
                                label 
                                .input-group
                                    label#basic-addon1.input-group-text 5
                                    input#choice4.form-control(type='text' name='' value=item5.désignation disabled=true)
                            .col-md-1
                                .form-group
                                label 
                                input#ut4.form-control.round(type='text' value=item5.unitémesure disabled=true)
                            .col-md-2
                                .form-group
                                label 
                                input#qts4.form-control.round(type='text' value=item5.quantitédem disabled=true)
                            .col-md-2
                                .form-group
                                label 
                                input#qtsa4.form-control.round(type='text' value=item5.quantitéliv)
                            .col-md-4
                                .form-group
                                label 
                                input#obs4.form-control.round(type='text' value=item5.observation disabled=true)

                          if (item5 == null)
                            .col-md-3
                                .form-group
                                label 
                                .input-group
                                    label#basic-addon1.input-group-text 5
                                    input#choice4.form-control(type='text' name='' disabled=true)
                            .col-md-1
                                .form-group
                                label 
                                input#ut4.form-control.round(type='text' disabled=true)
                            .col-md-2
                                .form-group
                                label 
                                input#qts4.form-control.round(type='text' disabled=true)
                            .col-md-2
                                .form-group
                                label 
                                input#qtsa4.form-control.round(type='text' disabled=true)
                            .col-md-4
                                .form-group
                                label 
                                input#obs4.form-control.round(type='text' disabled=true)

                          .col-md-12
                              .form-group
                              label 
                          
                          .col-sm-12.d-flex.justify-content-end
                            button.btn.btn-primary.me-1.mb-1(type='submit') Envoyer
                            button.btn.btn-light-secondary.me-1.mb-1(type='reset') Reset
                            
            
  script. 
    var uuid1= '!{uuid1}'
    var uuid2= '!{uuid2}'
    var uuid3= '!{uuid3}'
    var uuid4= '!{uuid4}'
    var uuid5= '!{uuid5}'
  script.
          /*const vardemande= document.getElementById('vardemande')
          vardemande.addEventListener("submit",(e)=> {
         e.preventDefault();*/
         
          var subjectObject = {
              "Fourniture": {
                "Chaise": [],
                "Bureau": [],
                "Tableau":[],
                 "bureau": [],
                 "écran":[],
                 "ordinateur":[],
                 "armoire":[],
                 "cafetière":[],
                 "clavier":[],
                 "souris":[],
                 "porte" :[],
                 "manteaux":[],
              },
              "Materiel": {
                "Gomme": [],
                "Crayon": [],
                "Papier": [],
                "Ancre": [],
                "Regle": []
                
              }
            };
            window.onload = function() {
              var subjectSel = document.getElementById("type");
              var topicSel = document.getElementById("choice");
              var topicSel1 = document.getElementById("choice1");
              var topicSel2 = document.getElementById("choice2");
              var topicSel3 = document.getElementById("choice3");
              var topicSel4 = document.getElementById("choice4");

              for (var x in subjectObject) {
                subjectSel.options[subjectSel.options.length] = new Option(x, x);
              }
              subjectSel.onchange = function() {
                //empty Chapters- and Topics- dropdowns
                topicSel.length = 1;
                topicSel1.length= 1;
                topicSel2.length= 1;
                topicSel3.length= 1;
                topicSel4.length= 1;
                //display correct values
                for (var y in subjectObject[this.value]) {
                topicSel.options[topicSel.options.length] = new Option(y, y);
                }
                 for (var y in subjectObject[this.value]) {
                topicSel1.options[topicSel1.options.length] = new Option(y, y);
                }
                 for (var y in subjectObject[this.value]) {
                topicSel2.options[topicSel2.options.length] = new Option(y, y);
                }
                 for (var y in subjectObject[this.value]) {
                topicSel3.options[topicSel3.options.length] = new Option(y, y);
                }
                 for (var y in subjectObject[this.value]) {
                topicSel4.options[topicSel4.options.length] = new Option(y, y);
                }
              }

            }

        vardemande.addEventListener("submit",(e)=> {
         e.preventDefault();
    getDevices = async () => {
      const location = window.location.hostname;
      const settings = {
    method: 'POST',
      headers:{
          Accept: 'application/json',
          'Content-Type': 'application/json',
    },
      body: JSON.stringify(data)
    };
    try {
      const fetchResponse = await fetch(`http://${location}:5000/demandemodif`, settings);
      const data = await fetchResponse.json();
      
      return data;
    } 
    catch (e) {
    return e;
    }
    } 
        
          
          
          let fname = document.getElementById("first-name").value;
          let date = document.getElementById("email-id").value;
          let type = document.getElementById("type").value;
          let service=document.getElementById("contact-info").value;
          let désignation = document.getElementById("choice").value;
          let désignation2 = document.getElementById("choice1").value;
          let désignation3 = document.getElementById("choice2").value;
          let désignation4 = document.getElementById("choice3").value;
          let désignation5 = document.getElementById("choice4").value;
          let unitémesure= document.getElementById("ut").value;
          let unitémesure2=document.getElementById("ut1").value;
          let unitémesure3=document.getElementById("ut2").value;
          let unitémesure4=document.getElementById("ut3").value;
          let unitémesure5=document.getElementById("ut4").value;
          let quantitédem=document.getElementById("qts").value;
          let quantitédem2=document.getElementById("qts1").value;
          let quantitédem3=document.getElementById("qts2").value;
          let quantitédem4=document.getElementById("qts3").value;
          let quantitédem5=document.getElementById("qts4").value;
          let quantitéliv=document.getElementById("qtsa").value;
          let quantitéliv2=document.getElementById("qtsa1").value;
          let quantitéliv3=document.getElementById("qtsa2").value;
          let quantitéliv4=document.getElementById("qtsa3").value;
          let quantitéliv5=document.getElementById("qtsa4").value;
          let observation=document.getElementById("obs").value;
          let observation2=document.getElementById("obs1").value;
          let observation3=document.getElementById("obs2").value;
          let observation4=document.getElementById("obs3").value;
          let observation5=document.getElementById("obs4").value;
          let num = '1';
          let num2 = '2';
          let num3 = '3';
          let num4 = '4';
          let num5 = '5';

          let data= {"uuid1":uuid1, "uuid2":uuid2, "uuid3":uuid3, "uuid4":uuid4, "uuid5":uuid5, 
          "quantitéliv":quantitéliv, "quantitéliv2":quantitéliv2, "quantitéliv3":quantitéliv3, "quantitéliv4":quantitéliv4, "quantitéliv5":quantitéliv5};
    getDevices(data);

          


          })
                            

footer
.footer.clearfix.mb-0.text-muted
.float-start
p 2021 &copy; Cosider
.float-end
p
  | Crafted with 
  span.text-danger
    i.bi.bi-heart
  |  by 
  a(href='#') A. Choukri
script(src='/vendors/perfect-scrollbar/perfect-scrollbar.min.js')
script(src='/vendors/choices.js/choices.min.js')
script(src='/js/bootstrap.bundle.min.js')
script(src='js/main.js')

